//questo codice viene eseguito al momento del require
console.log("Codice scritto direttamente");

//esposizione di una funzione in forma anonima
function _anonima(){
    console.log("Funzione anonima");
}
module.exports = _anonima;

//esposizione di un'altra function anonima(la orima viene coperta)
function somma(a,b){
    console.log(a + b);
}

//esposizione di una function con nome
function sottr(a,b){
    console.log(a - b);
}

//questa istruzione determina se una funzione apparirà come anonima o meno
//in questo caso somma è anonima e sottr non lo è
module.exports = somma;
module.exports.sottr = sottr;

//NB: un modulo supporta solo una funzione anonima alla volta, quindi se ne scrivo 2
//quella scritta dopo sovrascrive la prima che quindi non verrà più vista, a meno che non abbiano 
//un numero di parametri differente

//esposizione di un json
let json = {
    "nome" : "matteo",
    setNome: function(s){
        this.nome = s;
    }
}
module.exports.json = json;

//gestione di una classe in ES6

class MyClass{
    constructor(){
        this.nome = "pippo"
    }
    setNome(s){
        this.nome = s
    }
}
//la classe può essere indifferentemente istanziata nel modulo o nel main
let myClass = new MyClass();
//in questo caso prima la istanziamo e poi la esportiamo, ma è uguale
module.exports.myClass = myClass;